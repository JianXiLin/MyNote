#

## 1、${}与#{}

`#{}`
类似JDBC中PreparedStatement进行操作
将SQL语句中的参数位置用‘？’占位符进行占位，后续再与传入的参数进行绑定

`${}`
类似JDBC中Statement进行操作
将SQL语句与传入的参数进行字符串拼接

### 优缺点

```markdown

# #{}
优点：
    1. SQL进行预编译，防止SQL注入
    2. 效率高
缺点：
    由于SQL预编译缘故，当SQL语句未知时，例如表名未知、条件、排序字段未知，
    则不能使用，无法获取这些参数。

# ${}
优点：
    1. 可获取与SQL语句结构修改的参数，例如表名、条件等。
缺点：
    1. 无法防止SQL注入且效率低
    2. 获取简单数据类型时，获取方法较为麻烦。
    由于其SQL语句是直接与参数进行字符串拼接，所以其在获取简单数据类型时，
    若占位符内容与SQL拼接为合法SQL则不获取参数值。例如

    假设传入参数值为小明，则会出现以下情况：
    1) (去除${}后，sql合法，不获取参数)
    select * from name=${1}
    ==>
    select * from name=1

    2) (去除${}后，sql不合法，获取参数)
    select * from name=${name}
    ==>
    select * from name=小明

    3) (去除${}后，sql合法，不获取参数)
    select * from name='${name}'
    ==>
    select * from name='name'
```

### 对传入的不同数据类型的处理

#### 1）基本数据类型、包装类、String

基本数据类型时，MyBatis会忽略SQL语句中的参数和占位符名称，自动进行绑定

### 2）Map

通过K-V来获取，占位符名称需为K值，若存在则返回V值，不存在则返回null

### 3）对象

占位符需为get方法中的属性名称，不存在则抛出异常

