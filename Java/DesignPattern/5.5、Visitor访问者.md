# Visitor访问者模式

## 一、作用

当有多个类、模块需要使用同固定结构的模块的情况下使用。

## 二、案例

对于该抽象语法树中的每个节点都需要其相应的处理方法，比如类型检查等。
可通过visitor将每个节点所需的处理方法提取出来，而节点则通过visitor的访问来调用其所需的方法。
![2020-03-19-22-23-58](./imgs/5.5、Visitor访问者.md/2020-03-19-22-23-58.png)

### 未使用visitor下的实现

![2020-03-19-21-54-07](./imgs/5.5、Visitor访问者.md/2020-03-19-21-54-07.png)

### 使用visitor

![2020-03-19-21-53-23](./imgs/5.5、Visitor访问者.md/2020-03-19-21-53-23.png)
