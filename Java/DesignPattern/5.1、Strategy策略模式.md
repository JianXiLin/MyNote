# Strategy 策略模式

## 一、作用

对多种策略进行拆解，

## 二、案例：分别对猫、狗继续排序（Comparator）

Comparable : 提高物品==种类==（数量）的扩展性
Comparator :  即提高物品==种类==的扩展性，又提高物品==排序规则==（处理方式、策略）的扩展性

### 未使用策略模式前（Comparable）

​==扩展性差，违反OCP原则（开闭原则）==

[![a](https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5cdGNsYXNzIG1haW5cblx0bWFpbiAtLSBzb3J0b3Jcblx0Y2xhc3Mgc29ydG9ye1xuXHRcdHNvcnQoQ29tcGFyYWJsZVtdIGMpJCBcblx0fVxuXHRzb3J0b3IgLS0-IENvbXBhcmFibGVcblx0Y2xhc3MgQ29tcGFyYWJsZX5Ufntcblx0XHQ8PGludGVyZmFjZT4-XG5cdFx0Y29tcGFyZVRvKFQgdClpbnRcblx0fVxuXHRjbGFzcyBDYXR7XG5cdFx0LWludCB3ZWlnaHRcblx0XHQtU3RyaW5nIGNvbG9yXG5cdFx0LWNvbXBhcmVUbyhDYXQgYylpbnRcblx0fVxuXHRDYXQgLi58PkNvbXBhcmFibGVcblx0Y2xhc3MgRG9ne1xuXHRcdC1pbnQgd2VpZ2h0XG5cdFx0LVN0cmluZyBjb2xvclxuXHRcdC1jb21wYXJlVG8oRG9nIGQpaW50XG5cdH1cblx0RG9nIC4ufD5Db21wYXJhYmxlXG5cdFxuXHRcblxuXHQiLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlfQ)](https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5cdGNsYXNzIG1haW5cblx0bWFpbiAtLSBzb3J0b3Jcblx0Y2xhc3Mgc29ydG9ye1xuXHRcdHNvcnQoQ29tcGFyYWJsZVtdIGMpJCBcblx0fVxuXHRzb3J0b3IgLS0-IENvbXBhcmFibGVcblx0Y2xhc3MgQ29tcGFyYWJsZX5Ufntcblx0XHQ8PGludGVyZmFjZT4-XG5cdFx0Y29tcGFyZVRvKFQgdClpbnRcblx0fVxuXHRjbGFzcyBDYXR7XG5cdFx0LWludCB3ZWlnaHRcblx0XHQtU3RyaW5nIGNvbG9yXG5cdFx0LWNvbXBhcmVUbyhDYXQgYylpbnRcblx0fVxuXHRDYXQgLi58PkNvbXBhcmFibGVcblx0Y2xhc3MgRG9ne1xuXHRcdC1pbnQgd2VpZ2h0XG5cdFx0LVN0cmluZyBjb2xvclxuXHRcdC1jb21wYXJlVG8oRG9nIGQpaW50XG5cdH1cblx0RG9nIC4ufD5Db21wYXJhYmxlXG5cdFxuXHRcblxuXHQiLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlfQ)

使用Comparable后，排序规则整合在Cat、Dog类中。在添加新的排序规则时，需要修改原有的Cat类。

### 使用策略模式（Comparator）

==扩展性更强==
![image-20200312140010604](.\imgs\5.1、Strategy策略模式.md\image-20200312135119252.png)
使用Comparator，排序规则被拆分开来。在添加新排序规则时，只需添加XXXComparator排序器类。
