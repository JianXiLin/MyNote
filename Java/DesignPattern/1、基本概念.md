# 基本概念
[DesignPattern](DesignPattern)

## 设计模式的目的

1. 提高代码重用性
2. 可读性  (即：编程规范性, 便于其他程序员的阅读和理解)
3. 可扩展性  (即：当需要增加新的功能时，非常的方便，称为可维护)
4. 可靠性  (即：当我们增加新的功能后，对原来的功能没有影响)
5. 使程序呈现高内聚，低耦合的特性

此内容来源 👉[mashibing](https://ke.qq.com/webcourse/index.html#cid=413747&term_id=100493535&taid=3506922401976371&vid=5285890790176783644)
![2020-03-20-23-11-31](./imgs/1、基本概念.md/2020-03-20-23-11-31.png)

单一隔离，倒转里氏、开闭合成、迪米特法则

## 七大原则

### 1. 单一职责原则

#### 1.1 简介

即一个类只负责一项职责

#### 1.2 说明

    1） 可降低类的复杂度
    2） 提高类的可读性、可维护性
    3） 降低变更所引起的风险，即提高可扩展性
    4） 通常情况下，需遵守单一职责原则。只有类中方法较少
        时，才可设置为在方法级别上保持单一职责原则。

### 2. 接口隔离原则

#### 2.1 简介

    客户端不应该依赖它不需要的接口，
    即一个类对另一个类的依赖应该建立在最小的接口上 

#### 2.2 案例

不遵守原则（A与C使用到多余的接口）：
![image.png](https://i.loli.net/2020/02/13/lOgcnXwFId6rT37.png)
修改(将接口进行拆分):
![image.png](https://i.loli.net/2020/02/13/zBCstS8AvmGEJ7o.png)

#### 2.3说明

    1）在使用接口实现依赖时，若不是最小接口，则可将接口进行拆分。

### 3. 依赖倒转（倒置）原则

#### 3.1 简介

    1、抽象不应该依赖细节，细节应该依赖抽象
    2、高层模块不应该依赖低层模块，二者都应该依赖其抽象
    3、即类与类之间的联系，不能直接使用实体类依赖实体类，
    而是应该是两者同个同一个抽象（eg：接口）来进行关系的
    传递。

#### 3.2 通过接口实现依赖关系传递的三种方式

    1） 接口传递（参数——接口参数）
    2） 构造方法传递（属性——声明、实例接口属性）
    3） setter 方式传递（属性——声明、settrt接口属性）

#### 3.3 说明

    1） 低层模块尽量都要有抽象类或接口，或者两者都有，
        程序稳定性更好. 
    2） 变量的声明类型尽量是抽象类或接口, 这样我们的变量
        引用和实际对象间，就存在一个缓冲层，利于程序扩展
        和优化 
    3） 继承时遵循里氏替换原则 

### 4. 里氏替换原则

#### 4.1 简介

    所有引用基类的地方必须能透明地使用其子类的对象。 
    即使用子类、父类的效果、功能一致。
    子类继承父类时，不重写父类原有的方法。

#### 4.2 说明

       一般情况下，子类不能重写父类的方法。
       在适当的情况下，可以通过聚合，组合，依赖来解决需重写
    父类方法的问题。

       通用的做法是：原来的父类和子类都继承一个更通俗的基类，
    原有的继承关系去掉，采用依赖，聚合，组合等 关系代替. 
![image.png](https://i.loli.net/2020/02/13/gW5nxXk8ePiHJ1h.png)

### 5. 开闭原则ocp

#### 5.1 简介

    扩展开放(对提供方)，对修改关闭(对使用方)。
    扩展实体功能时，不能通过修改原有代码来实现。

#### 5.2 说明

### 6. 迪米特法则

#### 6.1 简介

    又名最少知道原则。
    即一个类对自己依赖的类知道的越少越好
    只与直接的朋友通信
    直接朋友：作为成员变量，方法参数，方法返回值中的类
    即陌生的类最好不要以局部变量的形式出现在类的内部。

#### 6.2 说明

    1）迪米特法则的核心是降低类之间的耦合

### 7. 合成复用原则

#### 7.1 简介

    原则是尽量使用合成/聚合的方式，而不是使用继承 

#### 7.2 说明

![image.png](https://i.loli.net/2020/02/13/6yKLmsoPpI9i2c4.png)

此内容来源 👉[mashibing](https://ke.qq.com/webcourse/index.html#cid=413747&term_id=100493535&taid=3506922401976371&vid=5285890790176783644)
![2020-03-20-23-12-21](./imgs/1、基本概念.md/2020-03-20-23-12-21.png)

<h1 align='center' style='color:[[4cAF50]];font-size:40px'>   类与类之间的关系</h1>

依赖、泛化(继承)、实现、关联、聚合、组合

1. 依赖：A 使用了 B， A依赖B
2. 泛化：依赖的特例（实线三角）
3. 实现：依赖的特例，接口实现（虚线三角）
4. 关联：依赖的特例（成员属性上），单向一对一，双向一对一。
5. 聚合：关联的特例，单聚合、多重聚合（空菱形），可分离（eg：电脑配件）
6. 组合：关联的特例。（实菱形）不可分离（eg：身体部位）
