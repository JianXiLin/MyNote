# <h1 align='center' style='color:#4cAF50;font-size:40px'>  Chain-of-responsibility patternè´£ä»»é“¾æ¨¡å¼</h1>

æ­¤å›¾ç‰‡æ¥æºï¼šğŸ‘‰[ç»´åŸºç™¾ç§‘](https://en.wikipedia.org/wiki/Facade_pattern)

<center>
    <img src=".\imgs\5.2ã€Chain-of-responsibilityè´£ä»»é“¾æ¨¡å¼.md\W3sDesign_Chain_of_Responsibility_Design_Pattern_UML.jpg"/>
</center>
## ä¸€ã€æ¡ˆä¾‹

### 1.1 è¿‡æ»¤å­—ç¬¦ä¸²

<center>
    <img src=".\imgs\5.2ã€Chain-of-responsibilityè´£ä»»é“¾æ¨¡å¼.md\image-20200314134841773.png"/>
</center>
<center>
    <img src=".\imgs\5.2ã€Chain-of-responsibilityè´£ä»»é“¾æ¨¡å¼.md\image-20200314134439463.png" alt="image-20200314134439463" style="zoom: 80%;" />
</center>

### 1.2 Servlet ä¸­ Filter

#### è¦æ±‚

ç”±äº Servlet ä¸­çš„åŒä¸€ä¸ªFilteréœ€è¦å¤„ç† requestå’Œresponseï¼Œä¸”å¤„ç†request å’Œ response çš„Filteræ‰§è¡Œé¡ºåºç›¸åã€‚

#### å¤„ç†æ–¹æ¡ˆ

ä¸åŒäºå•è·¯ç¨‹çš„è´£ä»»é“¾ï¼ŒFilterChainä¸å†…éƒ¨é¡ºåºæ‰§è¡ŒFilter
å¤šä¸€ä¸ªå‚æ•°æŒ‡å‘ä¸‹ä¸€ä¸ªå°†æ‰§è¡Œçš„Filterï¼Œæ¯ä¸ªFilterä¼ å…¥FilterChainçš„å¼•ç”¨ï¼Œä»¥è°ƒç”¨ä¸‹ä¸€ä¸ªFilter

==Filter.doFilter(request,response,FilterChain)==

1.Filterçš„æ‰§è¡Œé¡ºåºä¸ç”±FilterChainéå†Filtersæ§åˆ¶ã€‚
2. FilterChain ä¸­è®¾ç½®å˜é‡ï¼ŒæŒ‡å‘éœ€æŒ‡å‘çš„ä¸‹ä¸€ä¸ªFilterï¼ˆé»˜è®¤0ï¼‰ã€‚
3.é€šè¿‡FilterChainçš„doFilter å¼€å¯è´£ä»»é“¾ï¼Œå³è°ƒç”¨ç¬¬ä¸€ä¸ªFilterçš„doFilterã€‚
4.æ¯ä¸ªFilter å¼€å§‹è¿è¡Œåï¼Œè®¾ç½®FilterChainæŒ‡å‘ä¸‹ä¸€ä¸ªFilterï¼Œå¤„ç†å®Œrequeståï¼Œè°ƒç”¨FiterChainæ‰§è¡Œä¸‹ä¸€ä¸ªFilterï¼Œåœ¨å¤„ç†responseã€‚ä¸‹ä¸€ä¸ªè¢«è°ƒç”¨çš„Filterä¹Ÿæ˜¯æŒ‰ç…§è¿™ä¸ªæ“ä½œï¼Œä¾¿å¯é€’å½’åœ°å¤„ç†å®Œrequestï¼Œå†ä»å†…åˆ°å¤–åœ°å¤„ç†responseï¼Œè¾¾åˆ°ååºå¤„ç†responseçš„æ•ˆæœã€‚

<center>
    <img src=".\imgs\5.2ã€Chain-of-responsibilityè´£ä»»é“¾æ¨¡å¼.md\image-20200314151151064.png"/>
</center>
