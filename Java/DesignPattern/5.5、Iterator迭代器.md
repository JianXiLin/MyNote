# Iterator迭代器

## 一、作用

用于对不同容器进行遍历。
可实现调用者对容器进行遍历时，无需关注容器的结构。

## 二、实现

具体容器实现以下方法(主要需有前两个方法):

- boolean hasNext()
- E next()
- void remove()

<!-- 
```puml
    skinparam backgroundColor Beige

    Interface Iterator{
        hasNext() boolean
        next() E
    }
    class CList{
        hasNext() boolean
        next() E
    }
    class CSet{
        hasNext() boolean
        next() E
    }
    CList ..|> Iterator
    CSet ..|>Iterator

    main -- Iterator


    note left of main
        // 集合元素内容
        if(interator.hasNext()){
            //获取集合元素
            interator.next();
        }
    end note

``` -->

![迭代器/20210516091217](https://jianxi-md-pics.oss-cn-beijing.aliyuncs.com/note-md-imgs/迭代器/20210516091217.png?x-oss-process=image/resize,p_100/sharpen,50)

### ArrayList中对迭代器的应用

<!-- ```puml
    skinparam backgroundColor Beige

    Interface Iterator{
        hasNext() boolean
        next() E
    }

    class AbstractList.Itr{}

    AbstractList.Itr ..|> Iterator
    AbstractList.Itr -- AbstractList
    class AbstractList{
        // 迭代器（内部类）
        private class Itr{}
        public Iterator<E> iterator(){...}
        
    }
    note left of AbstractList
        <b><color:[[cf1322]]>// 迭代器</b>
        private class Itr{
            // 遍历的当前位置
            int cursor;
            // 遍历的前一个位置
            int lastRet

            public E next() {
                ...
                AbstractList.this.get(cursor);
                this.lastRet = cursor;
                this.cursor = var1 + 1;
                ...
            }
        }
        <b><color:[[cf1322]]>// 对外提供迭代器</b>
        public Iterator<E> iterator(){
            return new AbstractList.Itr();
        }

    end note

    class ArrayList
    ArrayList --|> AbstractList
``` -->

![迭代器/20210516091258](https://jianxi-md-pics.oss-cn-beijing.aliyuncs.com/note-md-imgs/迭代器/20210516091258.png?x-oss-process=image/resize,p_100/sharpen,50)

## 三、优势、适应场景

- 隐藏含复杂数据结构的容器的复杂性
    &emsp;&emsp;通过迭代器，使用者无需知晓容器内部结构即可获取元素数据。
- 可选择性地获取内容
    &emsp;&emsp;若容器对外提供容器内容列表，虽然可以实现调用者在不关注其容器结构的情况下遍历容器，但无法设置遍历的范围。因为此方法，容器需要提供其所有的内容，故调用者也将得到的是所有内容，无法只获取部分。
    &emsp;&emsp;而通过haxNext()+next()的方法，调用者可选择性地调用next()来获取容器的下一个内容，做到获取部分内容。
