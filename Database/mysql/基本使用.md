
```sql

CREATE DATABASE security DEFAULT CHARSET utf8 COLLATE utf8_general_ci;

```

```puml
@startmindmap
* æ•°æ®ç±»å‹
** æ•°å€¼
*** æ•´å‹
**** <b>tinyint</b> -- 1
**** <b>smallint</b> -- 2
**** <b>mediumint</b> -- 3
**** <b>int</b> -- 4
**** <b>bigint</b> -- 8
*** æµ®ç‚¹å‹
**** <b>float</b> -- 4
**** <b>double</b> -- 8
*** å®šç‚¹å‹
**** <b>decimal</b> --å¯å˜
** å…¶å®ƒ
*** <b>enum</b> æšä¸¾ -- 8
*** <b>set</b> é›†åˆ -- 3
-- å­—ç¬¦
--- <b>char</b> -- 8
--- <b>varchar</b> -- 16
--- <b>blob </b>
--- <b>text  </b>
--- <b>binary </b>
--- <b>varbinary </b>
-- æ—¥æœŸ
--- <b>datatime</b> -- 8
--- <b>data</b> -- 3
--- <b>timestamp </b> -- 4
--- <b>time  </b> -- 3
--- <b>year </b> -- 1
--- <b>varbinary </b>

@endmindmap
```

#### varcharæœ€å¤§é•¿åº¦è®¡ç®—

```sql
varcharé•¿åº¦ =ï¼ˆ æœ€å¤§é•¿åº¦ - nullæ ‡å¿—ä½ - é•¿åº¦æ ‡å¿—ä½ ï¼‰ / å­—ç¬¦é›†å•ä¸ªå­—ç¬¦

æœ€å¤§é•¿åº¦    : 65535
nullæ ‡å¿—ä½  : æ¯åˆ—1ä¸ªæ ‡è¯†ï¼Œå 1ä¸ªbitï¼ˆæ¯8ä¸ªbitä¸º1ä¸ªå­—èŠ‚ï¼Œä¸æ»¡ä¹Ÿä¸º1ä¸ªå­—èŠ‚ï¼‰
             å ç”¨å­—èŠ‚æ•° = ï¼ˆæ ‡å¿—ä½ /8ï¼‰
             å­˜æ”¾äºè¡Œæœ€å¼€å§‹çš„ä½ç½®ã€‚
é•¿åº¦æ ‡å¿—ä½  : é•¿åº¦ 0 - 255(2^8) 1ä¸ªå­—èŠ‚
            é•¿åº¦ 256 - 65535(2^16) 2ä¸ªå­—èŠ‚ï¼Œä¸”

```
>å­—ç¬¦é›†å•ä¸ªå­—ç¬¦æ‰€å å­—èŠ‚ ï¼š 
latin1 : å•ä¸ªå­—ç¬¦å¯å 1ä¸ªå­—èŠ‚
GBK : å•ä¸ªå­—ç¬¦æœ€å¤§å¯å 2ä¸ªå­—èŠ‚
UTF8 ï¼šå•ä¸ªå­—ç¬¦æœ€å¤§å¯å 3ä¸ªå­—èŠ‚
UTF8MB4 ï¼šå•ä¸ªå­—ç¬¦æœ€å¤§å¯å 4ä¸ªå­—èŠ‚ (å¤§éƒ¨åˆ†ä¸­æ–‡å 3ä¸ªå­—èŠ‚)

![2020-06-20-21-43-42](./imgs/åŸºæœ¬ä½¿ç”¨.md/2020-06-20-21-43-42.png)

ğŸ”¹ æ¡ˆä¾‹ï¼š

```
create table test_varchar_length(
     v1 varchar(128) not null,
     v2 varchar(128) not null,
     vm varchar( n ) not null
) CHARSET=GBK; 

nçš„å€¼æœ€å¤§ä¸ºå¤šå°‘ï¼Ÿ
```

![2020-06-20-22-24-04](./imgs/åŸºæœ¬ä½¿ç”¨.md/2020-06-20-22-24-04.png)

ç”±äºåˆ—vmå­—èŠ‚æ•° 65019 > 127 ï¼Œæ‰€ä»¥éœ€2ä¸ªå­—èŠ‚æ¥è®°å½•65019ï¼Œå³é•¿åº¦æ ‡å¿—ä¸º2ä¸ªå­—èŠ‚ã€‚ç”±äºå­—ç¬¦é›†ä¸ºGBKç¼–ç ï¼Œæ‰€ä»¥ n = (65019 -2) /2  = 32508.5ã€‚å‘ä¸‹å–æ•´ï¼Œå¾— n = 32508ã€‚

[ğŸ‘‰å‚è€ƒåšå®¢](https://learn.blog.csdn.net/article/details/103341778)

